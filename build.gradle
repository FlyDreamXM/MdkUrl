plugins {
    id 'java-gradle-plugin'
    id 'maven-publish'
    id 'com.gradle.plugin-publish' version '1.3.1'
}

group = 'io.github.flydreamxm.mdkurl'
version = '0.1.0'

repositories {
    mavenCentral()
}

gradlePlugin {
    website = 'https://github.com/FlyDreamXM/MdkUrl'
    vcsUrl = 'https://github.com/FlyDreamXM/MdkUrl.git'
    plugins {
        MdkUrl {
            id = 'io.github.flydreamxm.mdkurl'
            implementationClass = 'io.github.flydreamxm.mdkurl.MdkUrlPlugin'
            displayName = 'Minecraft (Neo)Forge Mod Development Url Plugin'
            description = 'This plugin allows you to replace libraries download url with custom ones.'
            tags = ["minecraft", "neoforge", "forge", "java", "mod"]
        }
    }
}

publishing {
    publications {
        maven(MavenPublication) {
            groupId = group
            artifactId = rootProject.name
            version = version

            from components.java
        }
    }
    repositories {
        mavenLocal()
        maven {
            url = project.layout.buildDirectory.dir("repo")
        }
    }
}

tasks.compileJava {
    options.encoding = "UTF-8"
}